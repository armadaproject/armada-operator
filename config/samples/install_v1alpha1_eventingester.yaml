apiVersion: install.armadaproject.io/v1alpha1
kind: EventIngester
metadata:
  labels:
    app.kubernetes.io/name: eventingester
    app.kubernetes.io/instance: eventingester-sample
    app.kubernetes.io/part-of: armada-operator
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/created-by: armada-operator
  name: eventingester-sample
spec:
  image:
    repository: gresearchdev/armada-eventingester
    tag: v0.3.44
  name: "eventIngester"
  applicationConfig:
    redis:
      addrs:
        - redis:6379
      password: ""
      db: 0
      poolSize: 1000
    pulsar:
      URL: pulsar://pulsar:6650
      jobsetEventsTopic: events
      receiveTimeout: 5s
      backoffTime: 1s
    subscriptionName: "events-ingester"
    minMessageCompressionSize: 1024
    batchSize: 1048576  #1MB
    batchDuration: 500ms
    batchMessages: 10000
    eventRetentionPolicy:
      expiryEnabled: true
      retentionDuration: 336h

